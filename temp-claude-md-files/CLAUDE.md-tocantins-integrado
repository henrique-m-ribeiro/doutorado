# CLAUDE.md — tocantins-integrado

## Sobre este Repositorio

**Sistema tecnico de inteligencia territorial para o Estado do Tocantins.**

- **Repositorio:** tocantins-integrado
- **Ciclo PA:** Ciclos 2 e 4 (Jan 2026 → Fev 2026)
- **Status:** Ativo (MVP com dados estaticos — ADR-006)
- **Funcao:** Sistema tecnico de IT-IA (dashboard MVP + multiagentes futuro)
- **Repositorio Hub:** [doutorado](https://github.com/henrique-m-ribeiro/doutorado)

## Contexto da Pesquisa

Este repositorio e parte do projeto de doutorado em Ciencia Politica de Henrique Marques Ribeiro (orientador: Prof. Fernando Filgueiras), que investiga **Inteligencia Territorial e IA na Gestao Publica** atraves de pesquisa-acao.

### Objetivos Especificos Endereçados

- **OE1:** Adaptar e aplicar framework de pesquisa-acao ao desenvolvimento de sistemas de IA
- **OE2:** Identificar transformacoes nos processos de gestao publica com IT-IA
- **OE3:** Caracterizar padroes de colaboracao humano-IA
- **OE4:** Analisar desafios eticos e de governanca
- **OE5:** Analisar escalabilidade e transferibilidade

### Questoes de Pesquisa

- **PS1:** Como a pesquisa-acao viabiliza o desenvolvimento de sistemas de IT-IA?
- **PS2:** Como a IA transforma processos de gestao publica?
- **PS3:** Como se configura a colaboracao humano-IA na gestao publica?
- **PS4:** Quais sao as implicacoes eticas e de governanca?

## Instrucoes para Agentes IA

### Obrigatorio em TODA sessao:

1. **Declarar ciclo PA e questao de pesquisa** antes de iniciar trabalho substantivo
2. **Consultar repositorio hub** `doutorado` para contexto completo e protocolo PA
3. **Dupla leitura obrigatoria:** Todo artefato e simultaneamente:
   - Produto pratico (sistema tecnico funcional)
   - Dado de pesquisa (evidencia sobre IT-IA em gestao publica)
4. **Registrar decisoes tecnicas como ADRs** (ver `docs/adrs/`)
5. **Seguir governanca do framework** ia-collab-os (roles CEO/CTO/DEV)
6. **Dados apenas oficiais** (ver ADR-002): IBGE, INEP, DataSUS, etc.

### Estado Atual do Sistema:

**MVP Dashboard:** Ativo e funcional
- Frontend Next.js / React / TypeScript
- Dados via JSON estatico (`public/data/municipalities.json`, ~1.9 MB)
- Parser `scripts/parse-caderno.cjs` extrai dados de 139 fichas municipais
- Camada de dados: `lib/caderno-data.ts` + `hooks/useCadernoData.ts`
- 6 tabs tematicas com dados reais
- **Status:** Funcional, pronto para deploy (Replit/Vercel)

**Backend legado:** Inativo (preservado)
- API Express, coletores, agentes dimensionais
- PostgreSQL + pgvector + Supabase
- n8n workflows
- **Status:** Codigo intacto, nao utilizado pelo MVP

**Camada 2 (Multiagentes):** 0% implementado
- Analises sob demanda
- Atualizacao automatica
- **Status:** Adiado para fase posterior

### Documentos de referencia local:

**Governanca e decisoes:**
- ADRs (6): `docs/adr/` ou raiz `.governance/`
  - ADR-001: Metodologia IA distribuida
  - ADR-002: Dados apenas oficiais
  - ADR-003: Simplificar workflow coleta IBGE
  - ADR-004: Sistema orientado a metadados
  - ADR-005: Granularidade territorial-temporal
  - ADR-006: MVP com dados estaticos do caderno (pivot estrategico)
- Piloto Palmas: `docs/PILOTO-PALMAS-RESULTADOS.md` (unico teste empirico)

**Tecnica:**
- Setup Supabase: `SUPABASE_SETUP_INSTRUCTIONS.md`
- Instrucoes de push: `INSTRUCOES_PUSH.md`
- README: `README.md`

**Documentacao externa (repositorio hub):**
- Protocolo de sessao PA: `doutorado/02-pesquisa-acao/01-ciclos/PROTOCOLO-REGISTRO-SESSAO.md`
- Matriz produto-tese: `doutorado/02-pesquisa-acao/00-projeto/MATRIZ-PRODUTO-TESE.md`
- Governanca Tocantins: `doutorado/02-pesquisa-acao/03-dados/governanca-tocantins/`
- ADRs centralizados: `doutorado/02-pesquisa-acao/03-dados/adrs/`

### Repositorios relacionados:

| Repositorio | Ciclo | Relacao |
|-------------|-------|---------|
| **doutorado** | Hub | Organizacao academica e governanca |
| **ia-collab-os** | Ciclos 2-3 | Framework metodologico v2.2 aplicado neste sistema; 6 ADRs deste repo tem lente de delegacao |
| **caderno-tocantins-2026** | Ciclo 3 | Artefato pratico; **fonte de dados do MVP** (fichas municipais parseadas) |
| **framework-v6-mvp** | Ciclo 1 | Sistema monolitico predecessor (superado) |

## Valor como Dado de Pesquisa

Este repositorio contem:

- **6 ADRs formais** com lente de delegacao inteligente (evidencia de processo decisorio documentado — OE1, OE4; cada ADR anotado com conceitos de Tomasev et al., 2025)
- **MVP dashboard funcional** com dados reais de 139 municipios (OE2, OE3)
- **Parser parse-caderno.cjs** — validacao empirica de H4.4 (dados do caderno alimentam sistema)
- **Piloto Palmas** (~12 KB) — resultado empirico com dados reais (OE3)
- **Arquitetura tecnica** — modelo replicavel para outros estados (OE5); duas estrategias documentadas (dinamica vs. estatica)
- **113+ commits** documentando evolucao do sistema
- **24+ pull requests** (processo de desenvolvimento rastreavel)

### Lacunas Academicas Conhecidas:

- MVP funcional, mas **ainda sem usuarios externos** (deploy pendente — OE2 nao plenamente validado)
- Camada 2 (multiagentes) nao implementada (0%)
- Sem validacao tecnica por pares
- Sem feedback de usuarios finais (gestores publicos) — **deploy abrira esta possibilidade**
- Piloto Palmas: um unico caso, sem generalizacao

## Convencoes

- Nomes de arquivo: snake_case para codigo, UPPER-CASE.md para documentos importantes
- Idioma: Ingles para codigo e comentarios tecnicos, Portugues para ADRs e governanca
- Commits: mensagens descritivas em portugues
- ADRs: criar novo ADR para decisoes arquiteturais relevantes (ver template em ia-collab-os)

## Producao vs. Reflexao

- **Proporcao 85/15** (producao/reflexao) — repositorio tecnico
- Reflexao academica profunda deve ser registrada no repositorio `doutorado`
- Diarios de sessao com implementacao significativa devem ser criados no `doutorado`

## Historico: Pausa e Retomada

**Pausa (Jan 2026):** Repositorio pausado apos Camada 1 atingir 90% e decisao estrategica de priorizar producao do Caderno Tocantins (Ciclo 3).

**Retomada — Pivot MVP (14 Fev 2026, ADR-006):** Urgencia da campanha eleitoral motivou retomada antecipada. Decisao de alimentar dashboard com dados parseados das fichas do caderno (dados estaticos), eliminando dependencias de backend/Supabase. MVP funcional implementado em ~4 horas.

**Proximos passos:**
- Deploy do MVP (Replit/Vercel)
- Coleta de feedback de usuarios da campanha
- Transicao incremental para dados dinamicos (quando pertinente)

---

**Ultima atualizacao:** 2026-02-14
**Versao:** 2.0 (atualizado pos-pivot MVP — ADR-006, status ativo, arquitetura MVP documentada)
